<!doctype html>
<html>
  <head>
    <title>examples/example.s [ Indoc ]</title>
    <link rel="stylesheet" href="./../../public/style.css" />
    <script src="./../../public/jquery.min.js"></script>
    <script src="./../../public/script.js"></script>
  </head>
  <body class="code">
    
    <main id="sections">

      <!-- The header -->

      <section class="section header files-hidden" id="header">

        <aside class="comment">

          <header>

            <div class="file-path">
              
              <a id="project-overview" href="./../.." title="Project Overview">Indoc</a>
              
              <div class="files-menu">
                <span id="filename">examples/example.s</span>
                
                <ul class="files hidable">
                  
                  <li class="file"><a href="./../../README.md/">README.md</a></li>
                  <li class="file"><a href="./../../bin/main.js/">bin/main.js</a></li>
                  <li class="file"><a href="./../../examples/example.c/">examples/example.c</a></li>
                  <li class="file"><a href="./../../examples/example.js/">examples/example.js</a></li>
                  <li class="file"><a href="./../../lib/class.js/">lib/class.js</a></li>
                  <li class="file"><a href="./../../lib/file.js/">lib/file.js</a></li>
                  <li class="file"><a href="./../../lib/language.js/">lib/language.js</a></li>
                  <li class="file"><a href="./../../lib/main.js/">lib/main.js</a></li>
                  <li class="file"><a href="./../../lib/section.js/">lib/section.js</a></li>
                  
                </ul>
                
              </div>
                
            </div>

            <div class="spacer"></div>
            
          </header>
            
        </aside>

        <div class="code empty">
        </div>
        
      </section>

      <!-- The main code section -->
      <section class="section">
        
        <aside class="comment">
          <div class="text markdown"></div>
        </aside>

        <div class="code">
          <pre><code>  .syntax unified

</code></pre>
        </div>
        
      </section>
      <section class="section">
        
        <aside class="comment">
          <div class="text markdown"><hr>
</div>
        </aside>

        <div class="code">
          <pre><code>  <span class="hljs-meta">.global</span> main
<span class="hljs-symbol">main</span>:
</code></pre>
        </div>
        
      </section>
      <section class="section">
        
        <aside class="comment">
          <div class="text markdown"><p>Stack the return address (lr) in addition to a dummy register (ip) to
keep the stack 8-byte aligned.</p>
</div>
        </aside>

        <div class="code">
          <pre><code>  <span class="hljs-keyword">push </span>   {<span class="hljs-built_in">ip</span>, <span class="hljs-built_in">lr</span>}

</code></pre>
        </div>
        
      </section>
      <section class="section">
        
        <aside class="comment">
          <div class="text markdown"><p>Load the argument and perform the call. This is like <code>printf(&quot;...&quot;)</code> in C.</p>
</div>
        </aside>

        <div class="code">
          <pre><code>  <span class="hljs-keyword">ldr </span>    <span class="hljs-built_in">r0</span>, <span class="hljs-symbol">=message</span>
  <span class="hljs-keyword">bl </span>     printf

</code></pre>
        </div>
        
      </section>
      <section class="section">
        
        <aside class="comment">
          <div class="text markdown"><p>Exit from &#39;main&#39;. This is like &#39;return 0&#39; in C.</p>
</div>
        </aside>

        <div class="code">
          <pre><code>  <span class="hljs-keyword">mov </span>    <span class="hljs-built_in">r0</span>, <span class="hljs-number">#0</span>    <span class="hljs-comment">; Return 0.</span>

</code></pre>
        </div>
        
      </section>
      <section class="section">
        
        <aside class="comment">
          <div class="text markdown"><p>Pop the dummy ip to reverse our alignment fix, and pop the original lr
value directly into pc — the Program Counter — to return.</p>
</div>
        </aside>

        <div class="code">
          <pre><code>  <span class="hljs-keyword">pop </span>    {<span class="hljs-built_in">ip</span>, <span class="hljs-built_in">pc</span>}

</code></pre>
        </div>
        
      </section>
      <section class="section">
        
        <aside class="comment">
          <div class="text markdown"><hr>
<p>Data for the printf calls. The GNU assembler&#39;s <code>.asciz</code> directive
automatically adds a NULL character termination.</p>
</div>
        </aside>

        <div class="code">
          <pre><code><span class="hljs-symbol">message</span>:
  <span class="hljs-meta">.asciz</span> <span class="hljs-string">"Hello, world.\n"</span>
     

</code></pre>
        </div>
        
      </section>
      
      <section class="section footer" id="footer">
        
        <aside class="comment">
          <span class="project-copyright">&copy; Copyright 2016 ZLSA Design.</span>
        </aside>

        <div class="code">
          <span class="page-generation-time">Generated Fri, 11 Mar 2016 21:13:46 GMT</span>
        </div>
        
      </section>
      
    </main>

  </body>
</html>

